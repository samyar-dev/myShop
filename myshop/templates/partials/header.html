<header>
  <style>  
  .cart-icon {
  position: relative;
  font-size: 24px;
  text-decoration: none;
}

#total-items {
  position: absolute;
  top: -6px;
  right: -8px;

  background: red;
  color: white;

  font-size: 11px;
  font-weight: bold;

  width: 18px;
  height: 18px;
  border-radius: 50%;

  display: flex;
  align-items: center;
  justify-content: center;

  line-height: 1;
}
</style>

  <div class="header-container">

    <!-- Ù„ÙˆÚ¯Ùˆ -->
    <a href="/" class="logo">Ø¬ÙˆØ§Ù‡Ø±Ø§Øª Ø³ÙØ±Ø§ÛŒ Ø²ÙØ±</a>

    <!-- Ø¬Ø³ØªØ¬Ùˆ -->
    <div class="search-box">
      <input type="text" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ú¯Ø±Ø¯Ù†Ø¨Ù†Ø¯ØŒ Ø§Ù†Ú¯Ø´ØªØ±ØŒ Ø¯Ø³ØªØ¨Ù†Ø¯ Ø·Ù„Ø§ÛŒÛŒ..." name="query" class="search-input"/>
	  <div class="search-results"></div>
    </div>

    <!-- Ø¢ÛŒÚ©ÙˆÙ†â€ŒÙ‡Ø§ -->
    <div class="right-section">

      <!-- Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ / ÙØ±ÙˆØ´Ú¯Ø§Ù‡ -->
      <a href="{% url 'cart:cart_detail' %}" class="icon-btn cart-icon" title="Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯">
      ğŸ›ï¸
        <span id="total-itmes">{{ cart|length }}</span>
      </a>

      <!-- Ù¾Ø±ÙˆÙØ§ÛŒÙ„ Ú©Ø§Ø±Ø¨Ø± -->
      {% if user.is_authenticated %}
      <a href="#" class="icon-btn" title="Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ">
        <!-- Ø§Ú¯Ø± Ø¹Ú©Ø³ Ø¯Ø§Ø´ØªÛŒØ¯ Ø§Ø² Ø§ÛŒÙ† Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯: -->
        <!-- <img src="user-avatar.jpg" class="profile-img" alt="profile"> -->
        <!-- Ø¯Ø± ØºÛŒØ± Ø§ÛŒÙ† ØµÙˆØ±Øª Ø¢ÛŒÚ©ÙˆÙ† Ø³Ø§Ø¯Ù‡: -->
        ğŸ‘¤
      </a>
      {% else %}
      <a href="{% url 'account:phone_login' %}" class="icon-btn" title="ÙˆØ±ÙˆØ¯ Ø¨Ù‡ Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ">
        ÙˆØ±ÙˆØ¯
      </a>
      {% endif %}

    </div>

  </div>

<script>
let searchInput = document.querySelector('.search-input');
let searchItems = document.querySelector('.search-results');
searchInput.addEventListener('input', function(){
	searchItems.innerHTML = '';
	fetch('{% url "shop:search" %}?query=' + this.value, {
		  method: 'GET',
		  headers: {"X-CSRFToken": '{{ csrf_token }}'}
		  }).then(function(res){
		      return res.json()
		  }).then(data => {
	        // searchItems.append(data)
	      data.searched_res.forEach(element => {
	      const a = document.createElement("a");
				a.href = 'product/' + element.id + '/' + element.slug + '/'
				a.textContent = element.name + " Ø³Ø±Ú† Ø´Ø¯Ù‡";
	  			searchItems.appendChild(a);
	        });
	      });
		})
</script>

</header>

</head>